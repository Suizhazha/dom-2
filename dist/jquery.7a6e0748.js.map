{"version":3,"sources":["jquery.js"],"names":["window","jQuery","selectorOrArrayOrTemplate","elements","createElement","document","querySelectorAll","Array","string","container","innerHTML","trim","content","firstChild","jquery","get","index","appendTo","node","Element","each","el","appendChild","append","children","HTMLCollection","i","length","find","selector","array","elements2","from","concat","oldApi","fn","call","parent","indexOf","parentNode","push","print","console","log","addClass","className","element","classList","add","end","$"],"mappings":"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","file":"jquery.7a6e0748.js","sourceRoot":"../src","sourcesContent":["window.jQuery = function(selectorOrArrayOrTemplate) {\n  let elements;\n  if (typeof selectorOrArrayOrTemplate === \"string\") {\n    if (selectorOrArrayOrTemplate[0] === \"<\") {\n      // 创建 div\n      elements = [createElement(selectorOrArrayOrTemplate)];\n    } else {\n      // 查找 div\n      elements = document.querySelectorAll(selectorOrArrayOrTemplate);\n    }\n  } else if (selectorOrArrayOrTemplate instanceof Array) {\n    elements = selectorOrArrayOrTemplate;\n  }\n\n  function createElement(string) {\n    const container = document.createElement(\"template\");\n    container.innerHTML = string.trim();\n    return container.content.firstChild;\n  }\n  // api 可以操作elements\n  return {\n    jquery: true,\n    elements: elements,\n    get(index) {\n      return elements[index];\n    },\n    appendTo(node) {\n      if (node instanceof Element) {\n        this.each(el => node.appendChild(el)); // 遍历 elements，对每个 el 进行 node.appendChild 操作\n      } else if (node.jquery === true) {\n        this.each(el => node.get(0).appendChild(el)); // 遍历 elements，对每个 el 进行 node.get(0).appendChild(el))  操作\n      }\n    },\n    append(children) {\n      if (children instanceof Element) {\n        this.get(0).appendChild(children);\n      } else if (children instanceof HTMLCollection) {\n        for (let i = 0; i < children.length; i++) {\n          this.get(0).appendChild(children[i]);\n        }\n      } else if (children.jquery === true) {\n        children.each(node => this.get(0).appendChild(node));\n      }\n    },\n    find(selector) {\n      let array = [];\n      for (let i = 0; i < elements.length; i++) {\n        const elements2 = Array.from(elements[i].querySelectorAll(selector));\n        array = array.concat(elements2);\n      }\n      array.oldApi = this; // this 就是 旧 api\n      return jQuery(array);\n    },\n    each(fn) {\n      for (let i = 0; i < elements.length; i++) {\n        fn.call(null, elements[i], i);\n      }\n      return this;\n    },\n    parent() {\n      const array = [];\n      this.each(node => {\n        if (array.indexOf(node.parentNode) === -1) {\n          array.push(node.parentNode);\n        }\n      });\n      return jQuery(array);\n    },\n    children() {\n      const array = [];\n      this.each(node => {\n        // 上课的时候这段代码是复制的，复制错了，现已改正\n        array.push(...node.children);\n      });\n      return jQuery(array);\n    },\n    print() {\n      console.log(elements);\n    },\n    // 闭包：函数访问外部的变量\n    addClass(className) {\n      for (let i = 0; i < elements.length; i++) {\n        const element = elements[i];\n        element.classList.add(className);\n      }\n      return this;\n    },\n    oldApi: selectorOrArrayOrTemplate.oldApi,\n    end() {\n      return this.oldApi; // this 就是新 api\n    }\n  };\n};\n\nwindow.$ = window.jQuery;\n"]}